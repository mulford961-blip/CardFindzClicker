<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CardFindz Tycoon - Sports Card Empire</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px);
            }
        }

        .animate-float {
            animation: floatUp 1s ease-out forwards;
        }

        @keyframes sparkle {
            0%, 100% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
            50% {
                opacity: 0.8;
                transform: scale(1.2) rotate(180deg);
            }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }

        @keyframes glow {
            0%, 100% {
                box-shadow: 0 0 5px rgba(247, 200, 105, 0.5);
            }
            50% {
                box-shadow: 0 0 20px rgba(247, 200, 105, 0.8), 0 0 30px rgba(247, 200, 105, 0.6);
            }
        }

        .animate-sparkle {
            animation: sparkle 0.6s ease-in-out;
        }

        .animate-shake {
            animation: shake 0.5s ease-in-out;
        }

        .animate-glow {
            animation: glow 1s ease-in-out infinite;
        }

        body {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');

        body {
            font-family: 'Inter', sans-serif;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(26, 13, 5, 0.5);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #8b5a23 0%, #f5c26a 100%);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #a46329 0%, #f7d793 100%);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Icons as SVG components
        const Package = ({ size = 24, className = "", strokeWidth = 2 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={strokeWidth} strokeLinecap="round" strokeLinejoin="round" className={className}>
                <line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line>
                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                <line x1="12" y1="22.08" x2="12" y2="12"></line>
            </svg>
        );

        const CreditCard = ({ size = 24, className = "", strokeWidth = 2 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={strokeWidth} strokeLinecap="round" strokeLinejoin="round" className={className}>
                <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                <line x1="1" y1="10" x2="23" y2="10"></line>
            </svg>
        );

        const TrendingUp = ({ size = 24, className = "", strokeWidth = 2 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={strokeWidth} strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                <polyline points="17 6 23 6 23 12"></polyline>
            </svg>
        );

        const DollarSign = ({ size = 24, className = "", strokeWidth = 2 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={strokeWidth} strokeLinecap="round" strokeLinejoin="round" className={className}>
                <line x1="12" y1="1" x2="12" y2="23"></line>
                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
            </svg>
        );

        const Zap = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
            </svg>
        );

        const Store = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7"></path>
                <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
                <path d="M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4"></path>
                <path d="M2 7h20"></path>
                <path d="M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7"></path>
            </svg>
        );

        const Users = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            </svg>
        );

        const Globe = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="2" y1="12" x2="22" y2="12"></line>
                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
            </svg>
        );

        const Camera = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path>
                <circle cx="12" cy="13" r="4"></circle>
            </svg>
        );

        const Star = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
            </svg>
        );

        const CardFindzTycoon = () => {
            const [cash, setCash] = useState(0);
            const [totalEarned, setTotalEarned] = useState(0);
            const [clickValue, setClickValue] = useState(1);
            const [cardsPerSecond, setCardsPerSecond] = useState(0);
            const [message, setMessage] = useState('Start selling cards!');
            const [clickAnimation, setClickAnimation] = useState(false);
            const [floatingNumbers, setFloatingNumbers] = useState([]);
            const [totalClicks, setTotalClicks] = useState(0);
            const [totalLootBoxes, setTotalLootBoxes] = useState(0);
            const [unlockedAchievements, setUnlockedAchievements] = useState([]);
            const [achievementNotification, setAchievementNotification] = useState(null);

            const [upgrades] = useState([
                {
                    id: 1,
                    name: 'Better Camera',
                    icon: Camera,
                    baseCost: 15,
                    owned: 0,
                    clickBonus: 1,
                    perSecond: 0,
                    description: '+$1 per sale'
                },
                {
                    id: 2,
                    name: 'eBay Store',
                    icon: Store,
                    baseCost: 100,
                    owned: 0,
                    clickBonus: 0,
                    perSecond: 1,
                    description: '$1/sec auto'
                },
                {
                    id: 3,
                    name: 'Grading Service',
                    icon: Star,
                    baseCost: 500,
                    owned: 0,
                    clickBonus: 5,
                    perSecond: 0,
                    description: '+$5 per sale'
                },
                {
                    id: 4,
                    name: 'Instagram Ads',
                    icon: Users,
                    baseCost: 1200,
                    owned: 0,
                    clickBonus: 0,
                    perSecond: 10,
                    description: '$10/sec auto'
                },
                {
                    id: 5,
                    name: 'Card Show Booth',
                    icon: Package,
                    baseCost: 5000,
                    owned: 0,
                    clickBonus: 0,
                    perSecond: 60,
                    description: '$60/sec auto'
                },
                {
                    id: 6,
                    name: 'Rare Card Dealer',
                    icon: TrendingUp,
                    baseCost: 12000,
                    owned: 0,
                    clickBonus: 75,
                    perSecond: 0,
                    description: '+$75 per sale'
                },
                {
                    id: 7,
                    name: 'Online Marketplace',
                    icon: Globe,
                    baseCost: 50000,
                    owned: 0,
                    clickBonus: 0,
                    perSecond: 500,
                    description: '$500/sec auto'
                },
                {
                    id: 8,
                    name: 'Card Grading Company',
                    icon: Star,
                    baseCost: 150000,
                    owned: 0,
                    clickBonus: 0,
                    perSecond: 2500,
                    description: '$2.5k/sec auto'
                },
                {
                    id: 9,
                    name: 'Vintage Card Vault',
                    icon: Package,
                    baseCost: 500000,
                    owned: 0,
                    clickBonus: 500,
                    perSecond: 0,
                    description: '+$500 per sale'
                },
                {
                    id: 10,
                    name: 'Regional Distribution',
                    icon: Globe,
                    baseCost: 1000000,
                    owned: 0,
                    clickBonus: 0,
                    perSecond: 8000,
                    description: '$8k/sec auto'
                },
                {
                    id: 11,
                    name: 'Card Authentication AI',
                    icon: Zap,
                    baseCost: 3500000,
                    owned: 0,
                    clickBonus: 2000,
                    perSecond: 0,
                    description: '+$2k per sale'
                },
                {
                    id: 12,
                    name: 'Auction House',
                    icon: TrendingUp,
                    baseCost: 8000000,
                    owned: 0,
                    clickBonus: 0,
                    perSecond: 25000,
                    description: '$25k/sec auto'
                },
                {
                    id: 13,
                    name: 'Hall of Fame Collection',
                    icon: Star,
                    baseCost: 20000000,
                    owned: 0,
                    clickBonus: 8000,
                    perSecond: 0,
                    description: '+$8k per sale'
                },
                {
                    id: 14,
                    name: 'Sports Network Deal',
                    icon: Users,
                    baseCost: 50000000,
                    owned: 0,
                    clickBonus: 0,
                    perSecond: 100000,
                    description: '$100k/sec auto'
                },
                {
                    id: 15,
                    name: '1-of-1 Card Broker',
                    icon: DollarSign,
                    baseCost: 150000000,
                    owned: 0,
                    clickBonus: 35000,
                    perSecond: 0,
                    description: '+$35k per sale'
                },
                {
                    id: 16,
                    name: 'International Empire',
                    icon: Globe,
                    baseCost: 400000000,
                    owned: 0,
                    clickBonus: 0,
                    perSecond: 500000,
                    description: '$500k/sec auto'
                },
                {
                    id: 17,
                    name: 'Card Museum',
                    icon: Package,
                    baseCost: 1000000000,
                    owned: 0,
                    clickBonus: 150000,
                    perSecond: 0,
                    description: '+$150k per sale'
                },
                {
                    id: 18,
                    name: 'Blockchain Card Platform',
                    icon: Zap,
                    baseCost: 3000000000,
                    owned: 0,
                    clickBonus: 0,
                    perSecond: 2000000,
                    description: '$2M/sec auto'
                },
                {
                    id: 19,
                    name: 'Legendary Card Syndicate',
                    icon: Star,
                    baseCost: 10000000000,
                    owned: 0,
                    clickBonus: 750000,
                    perSecond: 0,
                    description: '+$750k per sale'
                },
                {
                    id: 20,
                    name: 'Global Card Monopoly',
                    icon: TrendingUp,
                    baseCost: 50000000000,
                    owned: 0,
                    clickBonus: 0,
                    perSecond: 10000000,
                    description: '$10M/sec auto'
                }
            ]);

            const [portfolio, setPortfolio] = useState(upgrades.map(inv => ({ ...inv })));
            const lootBoxes = [
                {
                    id: 'collector',
                    name: 'Collector Crate',
                    cost: 250,
                    minReward: 150,
                    maxReward: 600,
                    bonusChance: 0.15,
                    megaChance: 0.05,
                    megaMultiplier: 3,
                    description: 'Reliable flips with a chance at premium inserts.',
                    emoji: 'üì¶'
                },
                {
                    id: 'elite',
                    name: 'Elite Vault',
                    cost: 2000,
                    minReward: 1200,
                    maxReward: 5000,
                    bonusChance: 0.2,
                    megaChance: 0.08,
                    megaMultiplier: 4,
                    description: 'High-end slabs and show-ready stock.',
                    emoji: 'üéÅ'
                },
                {
                    id: 'legendary',
                    name: 'Legendary Vault',
                    cost: 12000,
                    minReward: 6000,
                    maxReward: 20000,
                    bonusChance: 0.25,
                    megaChance: 0.12,
                    megaMultiplier: 5,
                    description: 'Massive grails with golden ticket potential.',
                    emoji: 'üíé'
                },
                {
                    id: 'vintage',
                    name: 'Vintage Treasure',
                    cost: 75000,
                    minReward: 40000,
                    maxReward: 150000,
                    bonusChance: 0.3,
                    megaChance: 0.15,
                    megaMultiplier: 6,
                    description: 'Pre-war gems and legendary rookie cards.',
                    emoji: 'üëë'
                },
                {
                    id: 'grail',
                    name: 'Holy Grail Vault',
                    cost: 500000,
                    minReward: 300000,
                    maxReward: 1000000,
                    bonusChance: 0.35,
                    megaChance: 0.2,
                    megaMultiplier: 8,
                    description: 'Museum-quality specimens and 1-of-1 treasures.',
                    emoji: 'üèÜ'
                },
                {
                    id: 'mythic',
                    name: 'Mythic Collection',
                    cost: 5000000,
                    minReward: 3000000,
                    maxReward: 12000000,
                    bonusChance: 0.4,
                    megaChance: 0.25,
                    megaMultiplier: 10,
                    description: 'Once-in-a-lifetime pulls. The ultimate gamble.',
                    emoji: '‚ö°'
                }
            ];
            const [lastLootPull, setLastLootPull] = useState(null);
            const [lootAnimation, setLootAnimation] = useState(false);

            // Achievement definitions
            const achievements = [
                { id: 'first_sale', name: 'First Sale!', description: 'Sell your first card', icon: 'üéâ', condition: () => totalClicks >= 1 },
                { id: 'hundred_sales', name: 'Hustler', description: 'Make 100 sales', icon: 'üí™', condition: () => totalClicks >= 100 },
                { id: 'thousand_sales', name: 'Card Dealer', description: 'Make 1,000 sales', icon: 'üî•', condition: () => totalClicks >= 1000 },
                { id: 'ten_thousand_sales', name: 'Trading Legend', description: 'Make 10,000 sales', icon: '‚ö°', condition: () => totalClicks >= 10000 },
                { id: 'hundred_thousand_sales', name: 'Sales Titan', description: 'Make 100,000 sales', icon: 'üí´', condition: () => totalClicks >= 100000 },
                { id: 'first_thousand', name: 'Getting Started', description: 'Earn $1,000', icon: 'üíµ', condition: () => totalEarned >= 1000 },
                { id: 'hundred_thousand', name: 'Big Leagues', description: 'Earn $100,000', icon: 'üí∞', condition: () => totalEarned >= 100000 },
                { id: 'one_million', name: 'Card Mogul!', description: 'Earn $1,000,000', icon: 'üèÜ', condition: () => totalEarned >= 1000000 },
                { id: 'ten_million', name: 'Millionaire Tycoon', description: 'Earn $10,000,000', icon: 'üëë', condition: () => totalEarned >= 10000000 },
                { id: 'hundred_million', name: 'Card Empire', description: 'Earn $100,000,000', icon: 'üåü', condition: () => totalEarned >= 100000000 },
                { id: 'one_billion', name: 'Billionaire Status', description: 'Earn $1,000,000,000', icon: 'üíé', condition: () => totalEarned >= 1000000000 },
                { id: 'ten_billion', name: 'Industry Domination', description: 'Earn $10,000,000,000', icon: 'üî±', condition: () => totalEarned >= 10000000000 },
                { id: 'hundred_billion', name: 'Card God', description: 'Earn $100,000,000,000', icon: '‚öúÔ∏è', condition: () => totalEarned >= 100000000000 },
                { id: 'first_upgrade', name: 'Investor', description: 'Purchase your first upgrade', icon: 'üìà', condition: () => portfolio.some(u => u.owned > 0) },
                { id: 'five_upgrades', name: 'Diversified', description: 'Own 5 different upgrade types', icon: 'üéØ', condition: () => portfolio.filter(u => u.owned > 0).length >= 5 },
                { id: 'ten_upgrades', name: 'Portfolio Builder', description: 'Own 10 different upgrade types', icon: 'üìä', condition: () => portfolio.filter(u => u.owned > 0).length >= 10 },
                { id: 'all_upgrades', name: 'Complete Portfolio', description: 'Own all upgrade types', icon: 'üèÖ', condition: () => portfolio.every(u => u.owned > 0) },
                { id: 'fifty_total', name: 'Business Expansion', description: 'Own 50 total upgrades', icon: 'üè¢', condition: () => portfolio.reduce((sum, u) => sum + u.owned, 0) >= 50 },
                { id: 'hundred_total', name: 'Enterprise Scale', description: 'Own 100 total upgrades', icon: 'üè≠', condition: () => portfolio.reduce((sum, u) => sum + u.owned, 0) >= 100 },
                { id: 'first_loot', name: 'Risk Taker', description: 'Open your first loot box', icon: 'üéÅ', condition: () => totalLootBoxes >= 1 },
                { id: 'loot_addict', name: 'Box Breaker', description: 'Open 25 loot boxes', icon: 'üì¶', condition: () => totalLootBoxes >= 25 },
                { id: 'loot_master', name: 'Vault Hunter', description: 'Open 100 loot boxes', icon: 'üóùÔ∏è', condition: () => totalLootBoxes >= 100 },
                { id: 'loot_legend', name: 'Treasure Seeker', description: 'Open 500 loot boxes', icon: 'üí∞', condition: () => totalLootBoxes >= 500 },
                { id: 'passive_income', name: 'Autopilot', description: 'Generate $1,000/sec passive income', icon: 'üöÄ', condition: () => cardsPerSecond >= 1000 },
                { id: 'mega_passive', name: 'Money Machine', description: 'Generate $100,000/sec passive income', icon: 'ü§ñ', condition: () => cardsPerSecond >= 100000 },
                { id: 'ultra_passive', name: 'Passive Empire', description: 'Generate $1,000,000/sec passive income', icon: 'üåê', condition: () => cardsPerSecond >= 1000000 }
            ];

            // Calculate stats
            useEffect(() => {
                let clickBonus = 1;
                let autoMoney = 0;

                portfolio.forEach(upgrade => {
                    clickBonus += upgrade.clickBonus * upgrade.owned;
                    autoMoney += upgrade.perSecond * upgrade.owned;
                });

                setClickValue(clickBonus);
                setCardsPerSecond(autoMoney);
            }, [portfolio]);

            // Auto-generate money per second
            useEffect(() => {
                const interval = setInterval(() => {
                    if (cardsPerSecond > 0) {
                        setCash(prev => prev + cardsPerSecond / 10);
                        setTotalEarned(prev => prev + cardsPerSecond / 10);
                    }
                }, 100);

                return () => clearInterval(interval);
            }, [cardsPerSecond]);

            // Check for achievements
            useEffect(() => {
                achievements.forEach(achievement => {
                    if (!unlockedAchievements.includes(achievement.id) && achievement.condition()) {
                        setUnlockedAchievements(prev => [...prev, achievement.id]);
                        setAchievementNotification(achievement);
                        setTimeout(() => setAchievementNotification(null), 5000);
                    }
                });
            }, [totalClicks, totalEarned, portfolio, cardsPerSecond, totalLootBoxes, unlockedAchievements]);

            // Handle main click
            const handleClick = (e) => {
                const rect = e.currentTarget.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;

                setCash(prev => prev + clickValue);
                setTotalEarned(prev => prev + clickValue);
                setTotalClicks(prev => prev + 1);
                setClickAnimation(true);
                setTimeout(() => setClickAnimation(false), 100);

                const id = Date.now();
                setFloatingNumbers(prev => [...prev, { id, value: clickValue, x, y }]);
                setTimeout(() => {
                    setFloatingNumbers(prev => prev.filter(n => n.id !== id));
                }, 1000);
            };

            const buyUpgrade = (id) => {
                const upgrade = portfolio.find(inv => inv.id === id);
                const cost = Math.floor(upgrade.baseCost * Math.pow(1.15, upgrade.owned));

                if (cash >= cost) {
                    setCash(cash - cost);
                    setPortfolio(prev => prev.map(inv => 
                        inv.id === id ? { ...inv, owned: inv.owned + 1 } : inv
                    ));
                    setMessage(`‚úì Purchased ${upgrade.name}!`);
                } else {
                    setMessage(`Need ${formatMoney(cost - cash)} more!`);
                }
            };

            const getCost = (upgrade) => {
                return Math.floor(upgrade.baseCost * Math.pow(1.15, upgrade.owned));
            };

            const openLootBox = (id) => {
                const box = lootBoxes.find(lb => lb.id === id);
                if (!box) return;

                if (cash < box.cost) {
                    setMessage(`Need ${formatMoney(box.cost - cash)} more for the ${box.name}.`);
                    return;
                }

                // Trigger animation
                setLootAnimation(true);
                setTimeout(() => setLootAnimation(false), 600);

                const baseReward = Math.floor(Math.random() * (box.maxReward - box.minReward + 1)) + box.minReward;
                const jackpot = Math.random() < box.bonusChance;
                const megaHit = Math.random() < box.megaChance;

                let totalReward = baseReward;
                let rewardType = 'normal';

                if (megaHit) {
                    totalReward = Math.floor(baseReward * box.megaMultiplier);
                    rewardType = 'mega';
                } else if (jackpot) {
                    totalReward = Math.floor(baseReward + box.maxReward * 1.5);
                    rewardType = 'jackpot';
                }

                setCash(prev => prev - box.cost + totalReward);
                setTotalEarned(prev => prev + totalReward);
                setTotalLootBoxes(prev => prev + 1);
                setLastLootPull({
                    name: box.name,
                    reward: totalReward,
                    cost: box.cost,
                    jackpot,
                    megaHit,
                    rewardType
                });

                if (megaHit) {
                    setMessage(`üåüüí• MEGA HIT! ${box.name} exploded with ${formatMoney(totalReward)}! (${box.megaMultiplier}x MULTIPLIER!)`);
                } else if (jackpot) {
                    setMessage(`‚ú® ${box.name} dropped a GOLDEN HIT worth ${formatMoney(totalReward)}!`);
                } else {
                    setMessage(`${box.emoji} Pulled ${formatMoney(totalReward)} from the ${box.name}!`);
                }
            };

            const formatMoney = (amount) => {
                if (amount >= 1000000000) {
                    return `$${(amount / 1000000000).toFixed(2)}B`;
                }
                if (amount >= 1000000) {
                    return `$${(amount / 1000000).toFixed(2)}M`;
                }
                if (amount >= 1000) {
                    return `$${(amount / 1000).toFixed(2)}K`;
                }
                return `$${amount.toFixed(2)}`;
            };

            const canAfford = (upgrade) => {
                return cash >= getCost(upgrade);
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-[#1d1207] via-[#120a04] to-[#050302] text-amber-50">
                    {/* Achievement Notification */}
                    {achievementNotification && (
                        <div className="fixed top-20 left-1/2 transform -translate-x-1/2 z-50 animate-bounce">
                            <div className="bg-gradient-to-r from-[#8b5a23] via-[#f5c26a] to-[#8b5a23] border-4 border-[#fff1d4] rounded-2xl p-6 shadow-2xl min-w-[320px]">
                                <div className="text-center">
                                    <div className="text-5xl mb-2">{achievementNotification.icon}</div>
                                    <div className="text-sm font-bold text-[#1a0e05] uppercase tracking-wide mb-1">Achievement Unlocked!</div>
                                    <h3 className="text-2xl font-extrabold text-[#1a0e05] mb-1">{achievementNotification.name}</h3>
                                    <p className="text-sm text-[#2d1908]">{achievementNotification.description}</p>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Top Bar - CardFindz Branding */}
                    <div className="bg-gradient-to-r from-[#6a3b1c] via-[#8c5e2a] to-[#3b210d] shadow-xl sticky top-0 z-10 border-b border-[#e0b25c]/20">
                        <div className="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
                            <div className="flex items-center gap-3">
                                <div className="w-10 h-10 bg-[#1a0e05] border border-[#f1cc7f]/40 rounded-lg flex items-center justify-center shadow-lg">
                                    <CreditCard size={24} className="text-[#f1cc7f]" strokeWidth={2.5} />
                                </div>
                                <div>
                                    <div className="text-2xl font-extrabold text-[#f8e3b5] tracking-tight">CardFindz</div>
                                    <div className="text-xs text-[#ffd98d] font-medium">Sports Card Tycoon</div>
                                </div>
                            </div>
                            <div className="text-right">
                                <div className="text-xs text-[#ffd98d] font-semibold uppercase tracking-wide">Total Cash</div>
                                <div className="text-2xl font-bold text-[#fbe5b7]">{formatMoney(cash)}</div>
                            </div>
                        </div>
                    </div>

                    <div className="max-w-7xl mx-auto grid lg:grid-cols-2 gap-0 lg:gap-8 min-h-screen">
                        {/* Left Side - Click Area */}
                        <div className="bg-[#120803]/80 p-6 lg:p-8 flex flex-col justify-center items-center border-b lg:border-b-0 lg:border-r border-[#8a5b24]/40">
                            <div className="w-full max-w-md space-y-6">
                                {/* Stats */}
                                <div className="space-y-3">
                                    <div className="bg-gradient-to-br from-[#6b3b1b]/50 to-[#b7832f]/40 backdrop-blur-sm border-2 border-[#c9953f]/50 rounded-2xl p-6 shadow-lg">
                                        <div className="text-xs text-amber-200 uppercase tracking-wide font-bold mb-1">Total Earnings</div>
                                        <div className="text-4xl font-extrabold text-[#ffe9bb]">{formatMoney(totalEarned)}</div>
                                    </div>

                                    <div className="grid grid-cols-3 gap-3">
                                        <div className="bg-[#1a0d05]/90 backdrop-blur-sm border-2 border-[#c9953f]/40 rounded-xl p-4 shadow-md">
                                            <div className="text-xs text-amber-200 uppercase tracking-wide font-semibold mb-1">Per Sale</div>
                                            <div className="text-xl font-bold text-[#f8c36c]">{formatMoney(clickValue)}</div>
                                        </div>
                                        <div className="bg-[#1a0d05]/90 backdrop-blur-sm border-2 border-[#c9953f]/40 rounded-xl p-4 shadow-md">
                                            <div className="text-xs text-amber-200 uppercase tracking-wide font-semibold mb-1">Per Second</div>
                                            <div className="text-xl font-bold text-[#f8c36c]">{formatMoney(cardsPerSecond)}</div>
                                        </div>
                                        <div className="bg-[#1a0d05]/90 backdrop-blur-sm border-2 border-[#c9953f]/40 rounded-xl p-4 shadow-md">
                                            <div className="text-xs text-amber-200 uppercase tracking-wide font-semibold mb-1">Total Sales</div>
                                            <div className="text-xl font-bold text-[#f8c36c]">{totalClicks.toLocaleString()}</div>
                                        </div>
                                    </div>
                                </div>

                                {/* Click Button */}
                                <div className="relative">
                                    <button
                                        onClick={handleClick}
                                        className={`w-full aspect-square bg-gradient-to-br from-[#8a5623] via-[#c78c3b] to-[#714114] hover:from-[#a46329] hover:via-[#e0a84f] hover:to-[#8c541d] active:scale-95 rounded-3xl shadow-2xl transition-all duration-100 flex flex-col items-center justify-center gap-4 border-4 border-[#f1cc7f]/30 hover:border-[#f1cc7f]/50 ${
                                            clickAnimation ? 'scale-95' : 'scale-100'
                                        }`}
                                    >
                                        <CreditCard size={80} className="text-[#fff1d4]" strokeWidth={2.5} />
                                        <span className="text-3xl font-extrabold text-[#fff1d4] tracking-tight drop-shadow-lg">SELL CARD</span>
                                        <span className="text-sm text-amber-200 font-semibold">Click to sell!</span>
                                    </button>

                                    {/* Floating numbers */}
                                    {floatingNumbers.map(num => (
                                        <div
                                            key={num.id}
                                            className="absolute text-[#f7c869] font-bold text-3xl pointer-events-none animate-float drop-shadow-lg"
                                            style={{
                                                left: num.x,
                                                top: num.y
                                            }}
                                        >
                                            +{formatMoney(num.value)}
                                        </div>
                                    ))}
                                </div>

                                {/* Message */}
                                <div className="text-center">
                                    <div className="text-sm text-amber-100 bg-[#1a0d05]/90 backdrop-blur-sm border-2 border-[#c9953f]/40 rounded-xl py-3 px-5 font-semibold shadow-md">
                                        {message}
                                    </div>
                                </div>

                                {/* Loot Boxes */}
                                <div className={`bg-[#1a0d05]/90 border-2 border-[#d9a648]/50 rounded-2xl p-6 shadow-xl ${lootAnimation ? 'animate-shake' : ''}`}>
                                    <div className="flex items-center justify-between mb-5">
                                        <div>
                                            <h3 className="text-xl font-extrabold text-[#f7d793]">Loot Boxes</h3>
                                            <p className="text-xs text-amber-200/80 mt-1">Crack sealed product for instant bankroll boosts</p>
                                        </div>
                                        <div className="text-4xl">üéÅ</div>
                                    </div>

                                    <div className="space-y-2 max-h-[350px] overflow-y-auto pr-2">
                                        {lootBoxes.map(box => {
                                            const affordable = cash >= box.cost;
                                            return (
                                                <button
                                                    key={box.id}
                                                    onClick={() => openLootBox(box.id)}
                                                    disabled={!affordable}
                                                    className={`w-full text-left p-4 rounded-xl border-2 transition-all ${
                                                        affordable
                                                            ? 'bg-gradient-to-r from-[#6b3b1b]/80 to-[#b97a2e]/80 border-[#f3c96a]/50 hover:shadow-lg hover:shadow-[#f3c96a]/30 hover:scale-[1.02] active:scale-100'
                                                            : 'bg-[#140903]/70 border-[#6d4b1f]/50 opacity-50 cursor-not-allowed'
                                                    }`}
                                                >
                                                    <div className="flex items-center gap-3">
                                                        <div className="text-3xl">{box.emoji}</div>
                                                        <div className="flex-1">
                                                            <p className="text-base font-bold text-[#ffe9bb]">{box.name}</p>
                                                            <p className="text-xs text-amber-200/80 mt-0.5">{box.description}</p>
                                                            <div className="flex items-center gap-2 mt-1">
                                                                <span className="text-xs text-green-400/80">‚ö° {(box.bonusChance * 100).toFixed(0)}% bonus</span>
                                                                <span className="text-xs text-purple-400/80">üí´ {(box.megaChance * 100).toFixed(0)}% mega ({box.megaMultiplier}x)</span>
                                                            </div>
                                                        </div>
                                                        <div className="text-right ml-2">
                                                            <div className="text-base font-extrabold text-[#f7c869]">{formatMoney(box.cost)}</div>
                                                            <div className="text-xs text-amber-200/70 whitespace-nowrap">{formatMoney(box.minReward)} - {formatMoney(box.maxReward)}</div>
                                                        </div>
                                                    </div>
                                                </button>
                                            );
                                        })}
                                    </div>

                                    {lastLootPull && (
                                        <div className={`mt-4 border-2 rounded-xl p-4 shadow-md ${
                                            lastLootPull.megaHit
                                                ? 'bg-gradient-to-r from-purple-900/90 to-pink-900/90 border-purple-400/60 animate-glow'
                                                : lastLootPull.jackpot
                                                ? 'bg-gradient-to-r from-yellow-900/90 to-orange-900/90 border-yellow-400/60'
                                                : 'bg-gradient-to-r from-[#120803]/90 to-[#1a0d05]/90 border-[#f4cc78]/40'
                                        }`}>
                                            <div className="flex items-center justify-between">
                                                <div className="flex-1">
                                                    <div className="font-bold text-[#fbe5b7] text-sm flex items-center gap-2">
                                                        {lastLootPull.name}
                                                        {lastLootPull.megaHit && <span className="text-purple-300 text-xs animate-sparkle">MEGA HIT!</span>}
                                                        {lastLootPull.jackpot && !lastLootPull.megaHit && <span className="text-yellow-300 text-xs">JACKPOT!</span>}
                                                    </div>
                                                    <div className="text-amber-200/90 text-xs mt-0.5">Rewarded {formatMoney(lastLootPull.reward)}</div>
                                                    <p className="text-xs text-amber-100/60 mt-1">Cost: {formatMoney(lastLootPull.cost)} ‚Ä¢ Profit: {formatMoney(lastLootPull.reward - lastLootPull.cost)}</p>
                                                </div>
                                                <div className="text-3xl ml-2">
                                                    {lastLootPull.megaHit ? 'üí•' : lastLootPull.jackpot ? '‚ú®' : 'üíº'}
                                                </div>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>

                        {/* Right Side - Upgrades */}
                        <div className="bg-[#0f0602]/80 p-6 lg:p-8 overflow-y-auto" style={{ maxHeight: 'calc(100vh - 89px)' }}>
                            <h2 className="text-2xl font-extrabold mb-6 flex items-center gap-3">
                                <Package size={28} className="text-[#f7c869]" />
                                <span className="bg-gradient-to-r from-[#f7c869] to-[#c5802d] bg-clip-text text-transparent">Business Upgrades</span>
                            </h2>

                            <div className="space-y-2.5 mb-8">
                                {portfolio.map((upgrade) => {
                                    const Icon = upgrade.icon;
                                    const cost = getCost(upgrade);
                                    const affordable = canAfford(upgrade);

                                    return (
                                        <button
                                            key={upgrade.id}
                                            onClick={() => buyUpgrade(upgrade.id)}
                                            disabled={!affordable}
                                            className={`w-full bg-[#160903]/90 backdrop-blur-sm rounded-xl p-4 transition-all duration-150 text-left border-2 shadow-md ${
                                                affordable
                                                    ? 'border-[#f1c86d]/50 hover:border-[#f4da9d]/70 hover:shadow-lg hover:shadow-[#f4da9d]/20 hover:scale-[1.02] active:scale-100'
                                                    : 'border-[#4b2d12]/60 opacity-50 cursor-not-allowed'
                                            }`}
                                        >
                                            <div className="flex items-start gap-4">
                                                <div className={`p-3 rounded-xl shadow-md ${affordable ? 'bg-gradient-to-br from-[#8b5a23]/50 to-[#f5c26a]/50' : 'bg-[#2d1908]/80'}`}>
                                                    <Icon size={24} className={affordable ? 'text-[#f5c26a]' : 'text-gray-500'} />
                                                </div>

                                                <div className="flex-1 min-w-0">
                                                    <div className="flex items-start justify-between gap-2 mb-1">
                                                        <h3 className="font-bold text-[#ffe9bb] text-base">{upgrade.name}</h3>
                                                        <div className={`text-sm font-extrabold whitespace-nowrap ${affordable ? 'text-[#f7c869]' : 'text-gray-500'}`}>
                                                            {formatMoney(cost)}
                                                        </div>
                                                    </div>

                                                    <p className="text-xs text-amber-200/80 mb-2">{upgrade.description}</p>

                                                    <div className="flex items-center justify-between">
                                                        <div className="text-xs text-amber-200/70">
                                                            Owned: <span className="text-[#fff1d4] font-bold">{upgrade.owned}</span>
                                                        </div>
                                                        {upgrade.owned > 0 && (
                                                            <div className="text-xs text-[#f7c869] font-bold">
                                                                {upgrade.perSecond > 0
                                                                    ? `+${formatMoney(upgrade.perSecond * upgrade.owned)}/sec`
                                                                    : `+${formatMoney(upgrade.clickBonus * upgrade.owned)}/sale`
                                                                }
                                                            </div>
                                                        )}
                                                    </div>
                                                </div>
                                            </div>
                                        </button>
                                    );
                                })}
                            </div>

                            {/* Achievements */}
                            <div className="bg-gradient-to-br from-[#1a0d05]/90 to-[#0f0602]/90 border-2 border-[#d9a648]/50 rounded-2xl p-6 shadow-xl">
                                <div className="flex items-center justify-between mb-5">
                                    <div>
                                        <h3 className="text-xl font-extrabold text-[#f7d793]">Achievements</h3>
                                        <p className="text-xs text-amber-200/80 mt-1">
                                            {unlockedAchievements.length} / {achievements.length} Unlocked
                                        </p>
                                    </div>
                                    <div className="text-4xl">üèÜ</div>
                                </div>

                                <div className="space-y-2 max-h-[400px] overflow-y-auto pr-2">
                                    {achievements.map((achievement) => {
                                        const isUnlocked = unlockedAchievements.includes(achievement.id);
                                        return (
                                            <div
                                                key={achievement.id}
                                                className={`p-4 rounded-xl border-2 transition-all ${
                                                    isUnlocked
                                                        ? 'bg-gradient-to-r from-[#6b3b1b]/80 to-[#b97a2e]/80 border-[#f3c96a]/60 shadow-md'
                                                        : 'bg-[#0f0602]/80 border-[#4b2d12]/60 opacity-50'
                                                }`}
                                            >
                                                <div className="flex items-start gap-3">
                                                    <div className={`text-3xl ${isUnlocked ? '' : 'grayscale opacity-40'}`}>
                                                        {achievement.icon}
                                                    </div>
                                                    <div className="flex-1 min-w-0">
                                                        <h4 className={`font-bold text-sm ${isUnlocked ? 'text-[#ffe9bb]' : 'text-amber-200/60'}`}>
                                                            {achievement.name}
                                                        </h4>
                                                        <p className={`text-xs mt-0.5 ${isUnlocked ? 'text-amber-200/90' : 'text-amber-200/50'}`}>
                                                            {achievement.description}
                                                        </p>
                                                    </div>
                                                    {isUnlocked && (
                                                        <div className="text-green-400 text-xl">‚úì</div>
                                                    )}
                                                </div>
                                            </div>
                                        );
                                    })}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<CardFindzTycoon />, document.getElementById('root'));
    </script>
</body>
</html>
