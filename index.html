<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CardFindz - Sports Card Empire</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px);
            }
        }

        .animate-float {
            animation: floatUp 1s ease-out forwards;
        }

        @keyframes sparkle {
            0%, 100% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
            50% {
                opacity: 0.8;
                transform: scale(1.2) rotate(180deg);
            }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }

        @keyframes glow {
            0%, 100% {
                box-shadow: 0 0 10px rgba(212, 165, 116, 0.4), 0 0 20px rgba(212, 165, 116, 0.2);
            }
            50% {
                box-shadow: 0 0 20px rgba(212, 165, 116, 0.6), 0 0 40px rgba(212, 165, 116, 0.4), 0 0 60px rgba(212, 165, 116, 0.2);
            }
        }

        @keyframes pulse {
            0%, 100% {
                box-shadow: 0 0 15px rgba(212, 165, 116, 0.4);
            }
            50% {
                box-shadow: 0 0 30px rgba(212, 165, 116, 0.6);
            }
        }

        @keyframes cardFlip {
            0% {
                transform: perspective(1000px) rotateY(0deg);
            }
            50% {
                transform: perspective(1000px) rotateY(180deg);
            }
            100% {
                transform: perspective(1000px) rotateY(360deg);
            }
        }

        .animate-card-flip {
            animation: cardFlip 0.6s ease-in-out;
        }

        @keyframes particle {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(0);
                opacity: 0;
            }
        }

        .particle {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            pointer-events: none;
            animation: particle 0.8s ease-out forwards;
        }

        .animate-sparkle {
            animation: sparkle 0.6s ease-in-out;
        }

        .animate-shake {
            animation: shake 0.5s ease-in-out;
        }

        .animate-glow {
            animation: glow 1s ease-in-out infinite;
        }

        .animate-pulse {
            animation: pulse 2s ease-in-out infinite;
        }

        body {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            transition: background-color 0.3s ease;
        }

        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&family=Playfair+Display:wght@700;900&display=swap');

        body {
            font-family: 'Inter', sans-serif;
        }

        /* Custom Scrollbar - Dark Mode */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        .dark ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.8);
            border-radius: 10px;
        }

        .dark ::-webkit-scrollbar-thumb {
            background: #D4A574;
            border-radius: 10px;
            border: 2px solid rgba(0, 0, 0, 0.5);
        }

        .dark ::-webkit-scrollbar-thumb:hover {
            background: #E0B685;
        }

        /* Custom Scrollbar - Light Mode */
        .light ::-webkit-scrollbar-track {
            background: rgba(245, 235, 220, 0.8);
            border-radius: 10px;
        }

        .light ::-webkit-scrollbar-thumb {
            background: #8B7355;
            border-radius: 10px;
            border: 2px solid rgba(255, 255, 255, 0.5);
        }

        .light ::-webkit-scrollbar-thumb:hover {
            background: #6B5745;
        }

        /* Card corner decorations */
        .card-corner {
            position: relative;
        }

        .card-corner::before,
        .card-corner::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            border: 2px solid currentColor;
        }

        .card-corner::before {
            top: -2px;
            left: -2px;
            border-right: none;
            border-bottom: none;
        }

        .card-corner::after {
            bottom: -2px;
            right: -2px;
            border-left: none;
            border-top: none;
        }

        /* Card texture pattern */
        .card-texture {
            background-image:
                repeating-linear-gradient(
                    45deg,
                    transparent,
                    transparent 10px,
                    rgba(212, 165, 116, 0.03) 10px,
                    rgba(212, 165, 116, 0.03) 20px
                );
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Icons as SVG components
        const Package = ({ size = 24, className = "", strokeWidth = 2 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={strokeWidth} strokeLinecap="round" strokeLinejoin="round" className={className}>
                <line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line>
                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                <line x1="12" y1="22.08" x2="12" y2="12"></line>
            </svg>
        );

        const CreditCard = ({ size = 24, className = "", strokeWidth = 2 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={strokeWidth} strokeLinecap="round" strokeLinejoin="round" className={className}>
                <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                <line x1="1" y1="10" x2="23" y2="10"></line>
            </svg>
        );

        const TrendingUp = ({ size = 24, className = "", strokeWidth = 2 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={strokeWidth} strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                <polyline points="17 6 23 6 23 12"></polyline>
            </svg>
        );

        const DollarSign = ({ size = 24, className = "", strokeWidth = 2 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={strokeWidth} strokeLinecap="round" strokeLinejoin="round" className={className}>
                <line x1="12" y1="1" x2="12" y2="23"></line>
                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
            </svg>
        );

        const Zap = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
            </svg>
        );

        const Store = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7"></path>
                <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
                <path d="M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4"></path>
                <path d="M2 7h20"></path>
                <path d="M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7"></path>
            </svg>
        );

        const Users = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            </svg>
        );

        const Globe = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="2" y1="12" x2="22" y2="12"></line>
                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
            </svg>
        );

        const Camera = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path>
                <circle cx="12" cy="13" r="4"></circle>
            </svg>
        );

        const Star = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
            </svg>
        );

        const Sun = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <circle cx="12" cy="12" r="5"></circle>
                <line x1="12" y1="1" x2="12" y2="3"></line>
                <line x1="12" y1="21" x2="12" y2="23"></line>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                <line x1="1" y1="12" x2="3" y2="12"></line>
                <line x1="21" y1="12" x2="23" y2="12"></line>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
            </svg>
        );

        const Moon = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
        );

        const CardFindzTycoon = () => {
            const [theme, setTheme] = useState('dark');
            const [cash, setCash] = useState(0);
            const [totalEarned, setTotalEarned] = useState(0);
            const [clickValue, setClickValue] = useState(1);
            const [cardsPerSecond, setCardsPerSecond] = useState(0);
            const [message, setMessage] = useState('Start selling cards!');
            const [clickAnimation, setClickAnimation] = useState(false);
            const [cardFlipAnimation, setCardFlipAnimation] = useState(false);
            const [floatingNumbers, setFloatingNumbers] = useState([]);
            const [particles, setParticles] = useState([]);
            const [totalClicks, setTotalClicks] = useState(0);
            const [unlockedAchievements, setUnlockedAchievements] = useState([]);
            const [achievementNotification, setAchievementNotification] = useState(null);

            // Sound effects using Web Audio API
            const playSound = (frequency, duration, type = 'sine') => {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();

                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);

                oscillator.frequency.value = frequency;
                oscillator.type = type;

                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);

                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + duration);
            };

            const playSellSound = () => {
                playSound(800, 0.1, 'sine');
                setTimeout(() => playSound(1000, 0.1, 'sine'), 50);
            };

            const playUpgradeSound = () => {
                playSound(523.25, 0.15, 'square');
                setTimeout(() => playSound(659.25, 0.15, 'square'), 100);
                setTimeout(() => playSound(783.99, 0.2, 'square'), 200);
            };

            const toggleTheme = () => {
                setTheme(prev => prev === 'dark' ? 'light' : 'dark');
            };

            // Theme colors - CardFindz branding
            const colors = {
                dark: {
                    bg: '#000000',
                    bgSecondary: '#1a1a1a',
                    bgTertiary: '#0a0a0a',
                    text: '#ffffff',
                    textSecondary: '#9ca3af',
                    textTertiary: '#6b7280',
                    accent: '#D4A574',
                    accentHover: '#E0B685',
                    border: '#374151',
                    borderLight: '#1f2937'
                },
                light: {
                    bg: '#FAF8F5',
                    bgSecondary: '#F5F0EB',
                    bgTertiary: '#FFFFFF',
                    text: '#1a1a1a',
                    textSecondary: '#4b5563',
                    textTertiary: '#6b7280',
                    accent: '#D4A574',
                    accentHover: '#C2A882',
                    border: '#D4A574',
                    borderLight: '#E5D5C5'
                }
            };

            const currentColors = colors[theme];

            const [upgrades] = useState([
                {
                    id: 1,
                    name: 'Better Camera',
                    icon: Camera,
                    baseCost: 15,
                    owned: 0,
                    clickBonus: 1,
                    perSecond: 0,
                    description: '+$1 per sale'
                },
                {
                    id: 2,
                    name: 'eBay Store',
                    icon: Store,
                    baseCost: 100,
                    owned: 0,
                    clickBonus: 0,
                    perSecond: 1,
                    description: '$1/sec auto'
                },
                {
                    id: 3,
                    name: 'Grading Service',
                    icon: Star,
                    baseCost: 500,
                    owned: 0,
                    clickBonus: 5,
                    perSecond: 0,
                    description: '+$5 per sale'
                },
                {
                    id: 4,
                    name: 'Instagram Ads',
                    icon: Users,
                    baseCost: 1200,
                    owned: 0,
                    clickBonus: 0,
                    perSecond: 10,
                    description: '$10/sec auto'
                },
                {
                    id: 5,
                    name: 'Card Show Booth',
                    icon: Package,
                    baseCost: 5000,
                    owned: 0,
                    clickBonus: 0,
                    perSecond: 60,
                    description: '$60/sec auto'
                },
                {
                    id: 6,
                    name: 'Rare Card Dealer',
                    icon: TrendingUp,
                    baseCost: 12000,
                    owned: 0,
                    clickBonus: 75,
                    perSecond: 0,
                    description: '+$75 per sale'
                },
                {
                    id: 7,
                    name: 'Online Marketplace',
                    icon: Globe,
                    baseCost: 50000,
                    owned: 0,
                    clickBonus: 0,
                    perSecond: 500,
                    description: '$500/sec auto'
                },
                {
                    id: 8,
                    name: 'Card Grading Company',
                    icon: Star,
                    baseCost: 150000,
                    owned: 0,
                    clickBonus: 0,
                    perSecond: 2500,
                    description: '$2.5k/sec auto'
                },
                {
                    id: 9,
                    name: 'Vintage Card Vault',
                    icon: Package,
                    baseCost: 500000,
                    owned: 0,
                    clickBonus: 500,
                    perSecond: 0,
                    description: '+$500 per sale'
                },
                {
                    id: 10,
                    name: 'Regional Distribution',
                    icon: Globe,
                    baseCost: 1000000,
                    owned: 0,
                    clickBonus: 0,
                    perSecond: 8000,
                    description: '$8k/sec auto'
                },
                {
                    id: 11,
                    name: 'Card Authentication AI',
                    icon: Zap,
                    baseCost: 3500000,
                    owned: 0,
                    clickBonus: 2000,
                    perSecond: 0,
                    description: '+$2k per sale'
                },
                {
                    id: 12,
                    name: 'Auction House',
                    icon: TrendingUp,
                    baseCost: 8000000,
                    owned: 0,
                    clickBonus: 0,
                    perSecond: 25000,
                    description: '$25k/sec auto'
                },
                {
                    id: 13,
                    name: 'Hall of Fame Collection',
                    icon: Star,
                    baseCost: 20000000,
                    owned: 0,
                    clickBonus: 8000,
                    perSecond: 0,
                    description: '+$8k per sale'
                },
                {
                    id: 14,
                    name: 'Sports Network Deal',
                    icon: Users,
                    baseCost: 50000000,
                    owned: 0,
                    clickBonus: 0,
                    perSecond: 100000,
                    description: '$100k/sec auto'
                },
                {
                    id: 15,
                    name: '1-of-1 Card Broker',
                    icon: DollarSign,
                    baseCost: 150000000,
                    owned: 0,
                    clickBonus: 35000,
                    perSecond: 0,
                    description: '+$35k per sale'
                },
                {
                    id: 16,
                    name: 'International Empire',
                    icon: Globe,
                    baseCost: 400000000,
                    owned: 0,
                    clickBonus: 0,
                    perSecond: 500000,
                    description: '$500k/sec auto'
                },
                {
                    id: 17,
                    name: 'Card Museum',
                    icon: Package,
                    baseCost: 1000000000,
                    owned: 0,
                    clickBonus: 150000,
                    perSecond: 0,
                    description: '+$150k per sale'
                },
                {
                    id: 18,
                    name: 'Blockchain Card Platform',
                    icon: Zap,
                    baseCost: 3000000000,
                    owned: 0,
                    clickBonus: 0,
                    perSecond: 2000000,
                    description: '$2M/sec auto'
                },
                {
                    id: 19,
                    name: 'Legendary Card Syndicate',
                    icon: Star,
                    baseCost: 10000000000,
                    owned: 0,
                    clickBonus: 750000,
                    perSecond: 0,
                    description: '+$750k per sale'
                },
                {
                    id: 20,
                    name: 'Global Card Monopoly',
                    icon: TrendingUp,
                    baseCost: 50000000000,
                    owned: 0,
                    clickBonus: 0,
                    perSecond: 10000000,
                    description: '$10M/sec auto'
                }
            ]);

            const [portfolio, setPortfolio] = useState(upgrades.map(inv => ({ ...inv })));

            // Achievement definitions
            const achievements = [
                { id: 'first_sale', name: 'First Sale!', description: 'Sell your first card', icon: 'ðŸŽ‰', condition: () => totalClicks >= 1 },
                { id: 'hundred_sales', name: 'Hustler', description: 'Make 100 sales', icon: 'ðŸ’ª', condition: () => totalClicks >= 100 },
                { id: 'thousand_sales', name: 'Card Dealer', description: 'Make 1,000 sales', icon: 'ðŸ”¥', condition: () => totalClicks >= 1000 },
                { id: 'ten_thousand_sales', name: 'Trading Legend', description: 'Make 10,000 sales', icon: 'âš¡', condition: () => totalClicks >= 10000 },
                { id: 'hundred_thousand_sales', name: 'Sales Titan', description: 'Make 100,000 sales', icon: 'ðŸ’«', condition: () => totalClicks >= 100000 },
                { id: 'first_thousand', name: 'Getting Started', description: 'Earn $1,000', icon: 'ðŸ’µ', condition: () => totalEarned >= 1000 },
                { id: 'hundred_thousand', name: 'Big Leagues', description: 'Earn $100,000', icon: 'ðŸ’°', condition: () => totalEarned >= 100000 },
                { id: 'one_million', name: 'Card Mogul!', description: 'Earn $1,000,000', icon: 'ðŸ†', condition: () => totalEarned >= 1000000 },
                { id: 'ten_million', name: 'Millionaire Tycoon', description: 'Earn $10,000,000', icon: 'ðŸ‘‘', condition: () => totalEarned >= 10000000 },
                { id: 'hundred_million', name: 'Card Empire', description: 'Earn $100,000,000', icon: 'ðŸŒŸ', condition: () => totalEarned >= 100000000 },
                { id: 'one_billion', name: 'Billionaire Status', description: 'Earn $1,000,000,000', icon: 'ðŸ’Ž', condition: () => totalEarned >= 1000000000 },
                { id: 'ten_billion', name: 'Industry Domination', description: 'Earn $10,000,000,000', icon: 'ðŸ”±', condition: () => totalEarned >= 10000000000 },
                { id: 'hundred_billion', name: 'Card God', description: 'Earn $100,000,000,000', icon: 'âšœï¸', condition: () => totalEarned >= 100000000000 },
                { id: 'first_upgrade', name: 'Investor', description: 'Purchase your first upgrade', icon: 'ðŸ“ˆ', condition: () => portfolio.some(u => u.owned > 0) },
                { id: 'five_upgrades', name: 'Diversified', description: 'Own 5 different upgrade types', icon: 'ðŸŽ¯', condition: () => portfolio.filter(u => u.owned > 0).length >= 5 },
                { id: 'ten_upgrades', name: 'Portfolio Builder', description: 'Own 10 different upgrade types', icon: 'ðŸ“Š', condition: () => portfolio.filter(u => u.owned > 0).length >= 10 },
                { id: 'all_upgrades', name: 'Complete Portfolio', description: 'Own all upgrade types', icon: 'ðŸ…', condition: () => portfolio.every(u => u.owned > 0) },
                { id: 'fifty_total', name: 'Business Expansion', description: 'Own 50 total upgrades', icon: 'ðŸ¢', condition: () => portfolio.reduce((sum, u) => sum + u.owned, 0) >= 50 },
                { id: 'hundred_total', name: 'Enterprise Scale', description: 'Own 100 total upgrades', icon: 'ðŸ­', condition: () => portfolio.reduce((sum, u) => sum + u.owned, 0) >= 100 },
                { id: 'passive_income', name: 'Autopilot', description: 'Generate $1,000/sec passive income', icon: 'ðŸš€', condition: () => cardsPerSecond >= 1000 },
                { id: 'mega_passive', name: 'Money Machine', description: 'Generate $100,000/sec passive income', icon: 'ðŸ¤–', condition: () => cardsPerSecond >= 100000 },
                { id: 'ultra_passive', name: 'Passive Empire', description: 'Generate $1,000,000/sec passive income', icon: 'ðŸŒ', condition: () => cardsPerSecond >= 1000000 }
            ];

            // Calculate stats
            useEffect(() => {
                let clickBonus = 1;
                let autoMoney = 0;

                portfolio.forEach(upgrade => {
                    clickBonus += upgrade.clickBonus * upgrade.owned;
                    autoMoney += upgrade.perSecond * upgrade.owned;
                });

                setClickValue(clickBonus);
                setCardsPerSecond(autoMoney);
            }, [portfolio]);

            // Auto-generate money per second
            useEffect(() => {
                const interval = setInterval(() => {
                    if (cardsPerSecond > 0) {
                        setCash(prev => prev + cardsPerSecond / 10);
                        setTotalEarned(prev => prev + cardsPerSecond / 10);
                    }
                }, 100);

                return () => clearInterval(interval);
            }, [cardsPerSecond]);

            // Check for achievements
            useEffect(() => {
                achievements.forEach(achievement => {
                    if (!unlockedAchievements.includes(achievement.id) && achievement.condition()) {
                        setUnlockedAchievements(prev => [...prev, achievement.id]);
                        setAchievementNotification(achievement);
                        setTimeout(() => setAchievementNotification(null), 5000);
                    }
                });
            }, [totalClicks, totalEarned, portfolio, cardsPerSecond, unlockedAchievements]);

            // Handle main click
            const handleClick = (e) => {
                const rect = e.currentTarget.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;

                setCash(prev => prev + clickValue);
                setTotalEarned(prev => prev + clickValue);
                setTotalClicks(prev => prev + 1);
                setClickAnimation(true);
                setCardFlipAnimation(true);

                // Play sell sound
                playSellSound();

                setTimeout(() => setClickAnimation(false), 100);
                setTimeout(() => setCardFlipAnimation(false), 600);

                // Add floating number
                const id = Date.now();
                setFloatingNumbers(prev => [...prev, { id, value: clickValue, x, y }]);
                setTimeout(() => {
                    setFloatingNumbers(prev => prev.filter(n => n.id !== id));
                }, 1000);

                // Create particles
                const particleCount = 8;
                const newParticles = [];
                for (let i = 0; i < particleCount; i++) {
                    const angle = (Math.PI * 2 * i) / particleCount;
                    const distance = 50 + Math.random() * 50;
                    const particleId = `${id}-${i}`;
                    newParticles.push({
                        id: particleId,
                        x: x,
                        y: y,
                        tx: Math.cos(angle) * distance,
                        ty: Math.sin(angle) * distance,
                        color: theme === 'dark' ? '#D4A574' : '#8B7355'
                    });
                }
                setParticles(prev => [...prev, ...newParticles]);
                setTimeout(() => {
                    setParticles(prev => prev.filter(p => !newParticles.find(np => np.id === p.id)));
                }, 800);
            };

            const buyUpgrade = (id) => {
                const upgrade = portfolio.find(inv => inv.id === id);
                const cost = Math.floor(upgrade.baseCost * Math.pow(1.15, upgrade.owned));

                if (cash >= cost) {
                    setCash(cash - cost);
                    setPortfolio(prev => prev.map(inv =>
                        inv.id === id ? { ...inv, owned: inv.owned + 1 } : inv
                    ));
                    setMessage(`âœ“ Purchased ${upgrade.name}!`);

                    // Play upgrade sound
                    playUpgradeSound();
                } else {
                    setMessage(`Need ${formatMoney(cost - cash)} more!`);
                }
            };

            const getCost = (upgrade) => {
                return Math.floor(upgrade.baseCost * Math.pow(1.15, upgrade.owned));
            };

            const formatMoney = (amount) => {
                if (amount >= 1000000000) {
                    return `$${(amount / 1000000000).toFixed(2)}B`;
                }
                if (amount >= 1000000) {
                    return `$${(amount / 1000000).toFixed(2)}M`;
                }
                if (amount >= 1000) {
                    return `$${(amount / 1000).toFixed(2)}K`;
                }
                return `$${amount.toFixed(2)}`;
            };

            const canAfford = (upgrade) => {
                return cash >= getCost(upgrade);
            };

            return (
                <div className={`min-h-screen ${theme}`} style={{ backgroundColor: currentColors.bg, color: currentColors.text }}>
                    {/* Achievement Notification */}
                    {achievementNotification && (
                        <div className="fixed top-20 left-1/2 transform -translate-x-1/2 z-50 animate-bounce">
                            <div className="card-corner border-2 rounded-xl p-6 shadow-2xl min-w-[320px]" style={{
                                backgroundColor: currentColors.bgSecondary,
                                borderColor: currentColors.accent,
                                boxShadow: `0 0 30px ${currentColors.accent}40`
                            }}>
                                <div className="text-center">
                                    <div className="text-5xl mb-2 drop-shadow-lg">{achievementNotification.icon}</div>
                                    <div className="text-sm font-bold uppercase tracking-wide mb-1" style={{ color: currentColors.accent }}>Achievement Unlocked!</div>
                                    <h3 className="text-2xl font-extrabold mb-1 drop-shadow-md" style={{ color: currentColors.text }}>{achievementNotification.name}</h3>
                                    <p className="text-sm" style={{ color: currentColors.textSecondary }}>{achievementNotification.description}</p>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Top Bar - CardFindz Branding */}
                    <div className="sticky top-0 z-10 border-b" style={{ backgroundColor: currentColors.bg, borderColor: currentColors.borderLight }}>
                        <div className="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
                            <div className="flex items-center gap-3">
                                <div className="card-corner w-12 h-12 rounded-lg flex items-center justify-center shadow-lg" style={{ backgroundColor: currentColors.accent, color: currentColors.text }}>
                                    <CreditCard size={28} className={theme === 'dark' ? 'text-black' : 'text-white'} strokeWidth={2.5} />
                                </div>
                                <div>
                                    <div className="text-2xl font-bold tracking-tight" style={{
                                        fontFamily: "'Playfair Display', serif",
                                        color: currentColors.text
                                    }}>CardFindz</div>
                                    <div className="text-xs font-medium" style={{ color: currentColors.textSecondary }}>Sports Card Empire</div>
                                </div>
                            </div>
                            <div className="flex items-center gap-4">
                                <div className="text-right">
                                    <div className="text-xs font-semibold uppercase tracking-wide" style={{ color: currentColors.textSecondary }}>Total Cash</div>
                                    <div className="text-2xl font-bold" style={{ color: currentColors.accent }}>{formatMoney(cash)}</div>
                                </div>
                                <button
                                    onClick={toggleTheme}
                                    className="p-2 rounded-lg transition-all hover:scale-110"
                                    style={{
                                        backgroundColor: currentColors.bgSecondary,
                                        border: `2px solid ${currentColors.accent}`,
                                        color: currentColors.accent
                                    }}
                                    title={`Switch to ${theme === 'dark' ? 'light' : 'dark'} mode`}
                                >
                                    {theme === 'dark' ? <Sun size={20} /> : <Moon size={20} />}
                                </button>
                            </div>
                        </div>
                    </div>

                    <div className="max-w-7xl mx-auto grid lg:grid-cols-2 gap-0 lg:gap-8 min-h-screen">
                        {/* Left Side - Click Area */}
                        <div className="p-6 lg:p-8 flex flex-col justify-center items-center border-b lg:border-b-0 lg:border-r" style={{
                            backgroundColor: currentColors.bg,
                            borderColor: currentColors.borderLight
                        }}>
                            <div className="w-full max-w-md space-y-6">
                                {/* Stats */}
                                <div className="space-y-3">
                                    <div className="card-corner card-texture border rounded-xl p-6 shadow-lg" style={{
                                        backgroundColor: currentColors.bgSecondary,
                                        borderColor: currentColors.accent
                                    }}>
                                        <div className="text-xs uppercase tracking-wide font-bold mb-1" style={{ color: currentColors.textSecondary }}>Total Earnings</div>
                                        <div className="text-4xl font-bold" style={{ color: currentColors.accent }}>{formatMoney(totalEarned)}</div>
                                    </div>

                                    <div className="grid grid-cols-3 gap-3">
                                        <div className="border rounded-lg p-4 shadow" style={{
                                            backgroundColor: currentColors.bgSecondary,
                                            borderColor: currentColors.borderLight
                                        }}>
                                            <div className="text-xs uppercase tracking-wide font-semibold mb-1" style={{ color: currentColors.textSecondary }}>Per Sale</div>
                                            <div className="text-xl font-bold" style={{ color: currentColors.text }}>{formatMoney(clickValue)}</div>
                                        </div>
                                        <div className="border rounded-lg p-4 shadow" style={{
                                            backgroundColor: currentColors.bgSecondary,
                                            borderColor: currentColors.borderLight
                                        }}>
                                            <div className="text-xs uppercase tracking-wide font-semibold mb-1" style={{ color: currentColors.textSecondary }}>Per Second</div>
                                            <div className="text-xl font-bold" style={{ color: currentColors.text }}>{formatMoney(cardsPerSecond)}</div>
                                        </div>
                                        <div className="border rounded-lg p-4 shadow" style={{
                                            backgroundColor: currentColors.bgSecondary,
                                            borderColor: currentColors.borderLight
                                        }}>
                                            <div className="text-xs uppercase tracking-wide font-semibold mb-1" style={{ color: currentColors.textSecondary }}>Total Sales</div>
                                            <div className="text-xl font-bold" style={{ color: currentColors.text }}>{totalClicks.toLocaleString()}</div>
                                        </div>
                                    </div>
                                </div>

                                {/* Click Button */}
                                <div className="relative">
                                    <button
                                        onClick={handleClick}
                                        className={`card-corner w-full aspect-square active:scale-95 rounded-2xl transition-all duration-100 flex flex-col items-center justify-center gap-4 shadow-2xl ${
                                            clickAnimation ? 'scale-95' : 'scale-100'
                                        } ${cardFlipAnimation ? 'animate-card-flip' : ''}`}
                                        style={{
                                            backgroundColor: currentColors.accent,
                                            boxShadow: `0 10px 40px ${currentColors.accent}60`
                                        }}
                                        onMouseEnter={(e) => e.target.style.backgroundColor = currentColors.accentHover}
                                        onMouseLeave={(e) => e.target.style.backgroundColor = currentColors.accent}
                                    >
                                        <CreditCard size={80} className={theme === 'dark' ? 'text-black' : 'text-white'} strokeWidth={2.5} />
                                        <span className={`text-3xl font-bold tracking-tight ${theme === 'dark' ? 'text-black' : 'text-white'}`}>SELL CARD</span>
                                        <span className={`text-sm font-medium ${theme === 'dark' ? 'text-black/70' : 'text-white/70'}`}>Click to sell!</span>
                                    </button>

                                    {/* Floating numbers */}
                                    {floatingNumbers.map(num => (
                                        <div
                                            key={num.id}
                                            className="absolute font-bold text-3xl pointer-events-none animate-float"
                                            style={{
                                                left: num.x,
                                                top: num.y,
                                                color: currentColors.accent,
                                                textShadow: `0 0 10px ${currentColors.accent}`
                                            }}
                                        >
                                            +{formatMoney(num.value)}
                                        </div>
                                    ))}

                                    {/* Particles */}
                                    {particles.map(particle => (
                                        <div
                                            key={particle.id}
                                            className="particle"
                                            style={{
                                                left: particle.x,
                                                top: particle.y,
                                                backgroundColor: particle.color,
                                                '--tx': `${particle.tx}px`,
                                                '--ty': `${particle.ty}px`
                                            }}
                                        />
                                    ))}
                                </div>

                                {/* Message */}
                                <div className="text-center">
                                    <div className="text-sm border rounded-lg py-3 px-5 font-medium" style={{
                                        color: currentColors.textSecondary,
                                        backgroundColor: currentColors.bgSecondary,
                                        borderColor: currentColors.borderLight
                                    }}>
                                        {message}
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Right Side - Upgrades */}
                        <div className="p-6 lg:p-8 overflow-y-auto" style={{
                            backgroundColor: currentColors.bg,
                            maxHeight: 'calc(100vh - 89px)'
                        }}>
                            <h2 className="text-2xl font-bold mb-6 flex items-center gap-3">
                                <Package size={28} style={{ color: currentColors.accent }} />
                                <span style={{ color: currentColors.text }}>Business Upgrades</span>
                            </h2>

                            <div className="space-y-2.5 mb-8">
                                {portfolio.map((upgrade) => {
                                    const Icon = upgrade.icon;
                                    const cost = getCost(upgrade);
                                    const affordable = canAfford(upgrade);

                                    return (
                                        <button
                                            key={upgrade.id}
                                            onClick={() => buyUpgrade(upgrade.id)}
                                            disabled={!affordable}
                                            className={`w-full rounded-lg p-4 transition-all duration-150 text-left border ${
                                                affordable ? '' : 'opacity-40 cursor-not-allowed'
                                            }`}
                                            style={{
                                                backgroundColor: currentColors.bgSecondary,
                                                borderColor: currentColors.borderLight
                                            }}
                                            onMouseEnter={(e) => affordable && (e.currentTarget.style.borderColor = currentColors.accent)}
                                            onMouseLeave={(e) => (e.currentTarget.style.borderColor = currentColors.borderLight)}
                                        >
                                            <div className="flex items-start gap-4">
                                                <div className={`p-3 rounded-lg ${affordable ? '' : ''}`} style={{
                                                    backgroundColor: affordable ? currentColors.accent : currentColors.bgTertiary
                                                }}>
                                                    <Icon size={24} className={affordable && theme === 'dark' ? 'text-black' : affordable && theme === 'light' ? 'text-white' : ''} style={{
                                                        color: !affordable ? currentColors.textTertiary : undefined
                                                    }} />
                                                </div>

                                                <div className="flex-1 min-w-0">
                                                    <div className="flex items-start justify-between gap-2 mb-1">
                                                        <h3 className="font-bold text-base" style={{ color: currentColors.text }}>{upgrade.name}</h3>
                                                        <div className={`text-sm font-bold whitespace-nowrap`} style={{
                                                            color: affordable ? currentColors.text : currentColors.textTertiary
                                                        }}>
                                                            {formatMoney(cost)}
                                                        </div>
                                                    </div>

                                                    <p className="text-xs mb-2" style={{ color: currentColors.textSecondary }}>{upgrade.description}</p>

                                                    {/* Progress Bar */}
                                                    <div className="mb-2">
                                                        <div className="h-2 rounded-full overflow-hidden" style={{
                                                            backgroundColor: currentColors.bgTertiary,
                                                            border: `1px solid ${currentColors.borderLight}`
                                                        }}>
                                                            <div
                                                                className="h-full transition-all duration-300 rounded-full"
                                                                style={{
                                                                    width: `${Math.min((cash / cost) * 100, 100)}%`,
                                                                    backgroundColor: affordable ? currentColors.accent : currentColors.textTertiary,
                                                                    boxShadow: affordable ? `0 0 10px ${currentColors.accent}` : 'none'
                                                                }}
                                                            />
                                                        </div>
                                                        {!affordable && (
                                                            <div className="text-xs mt-1" style={{ color: currentColors.textTertiary }}>
                                                                {formatMoney(cost - cash)} more needed
                                                            </div>
                                                        )}
                                                    </div>

                                                    <div className="flex items-center justify-between">
                                                        <div className="text-xs" style={{ color: currentColors.textTertiary }}>
                                                            Owned: <span className="font-bold" style={{ color: currentColors.text }}>{upgrade.owned}</span>
                                                        </div>
                                                        {upgrade.owned > 0 && (
                                                            <div className="text-xs font-bold" style={{ color: currentColors.accent }}>
                                                                {upgrade.perSecond > 0
                                                                    ? `+${formatMoney(upgrade.perSecond * upgrade.owned)}/sec`
                                                                    : `+${formatMoney(upgrade.clickBonus * upgrade.owned)}/sale`
                                                                }
                                                            </div>
                                                        )}
                                                    </div>
                                                </div>
                                            </div>
                                        </button>
                                    );
                                })}
                            </div>

                            {/* Achievements */}
                            <div className="card-corner border rounded-xl p-6 shadow-lg" style={{
                                backgroundColor: currentColors.bgSecondary,
                                borderColor: currentColors.accent
                            }}>
                                <div className="flex items-center justify-between mb-5">
                                    <div>
                                        <h3 className="text-xl font-bold" style={{ color: currentColors.text }}>Achievements</h3>
                                        <p className="text-xs mt-1" style={{ color: currentColors.textSecondary }}>
                                            {unlockedAchievements.length} / {achievements.length} Unlocked
                                        </p>
                                    </div>
                                    <div className="text-4xl drop-shadow-lg">ðŸ†</div>
                                </div>

                                <div className="space-y-2 max-h-[400px] overflow-y-auto pr-2">
                                    {achievements.map((achievement) => {
                                        const isUnlocked = unlockedAchievements.includes(achievement.id);
                                        return (
                                            <div
                                                key={achievement.id}
                                                className={`p-4 rounded-lg border transition-all ${
                                                    isUnlocked ? '' : 'opacity-40'
                                                }`}
                                                style={{
                                                    backgroundColor: currentColors.bgTertiary,
                                                    borderColor: isUnlocked ? currentColors.accent : currentColors.borderLight
                                                }}
                                            >
                                                <div className="flex items-start gap-3">
                                                    <div className={`text-3xl drop-shadow-lg ${isUnlocked ? '' : 'grayscale opacity-40'}`}>
                                                        {achievement.icon}
                                                    </div>
                                                    <div className="flex-1 min-w-0">
                                                        <h4 className={`font-bold text-sm`} style={{
                                                            color: isUnlocked ? currentColors.text : currentColors.textTertiary
                                                        }}>
                                                            {achievement.name}
                                                        </h4>
                                                        <p className={`text-xs mt-0.5`} style={{
                                                            color: isUnlocked ? currentColors.textSecondary : currentColors.textTertiary
                                                        }}>
                                                            {achievement.description}
                                                        </p>
                                                    </div>
                                                    {isUnlocked && (
                                                        <div className="text-xl drop-shadow-lg" style={{ color: currentColors.accent }}>âœ“</div>
                                                    )}
                                                </div>
                                            </div>
                                        );
                                    })}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<CardFindzTycoon />, document.getElementById('root'));
    </script>
</body>
</html>
